<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="http://www.echartsjs.com/gallery/vendors/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="http://www.echartsjs.com/gallery/stylesheets/main.css?_v_=1510583853276">
		<link rel="stylesheet" href="http://yanbao.159jh.com/css/section01.css" type="text/css">
			<link rel="stylesheet" href="http://yanbao.159jh.com/css/cover.css" type="text/css">
				<link href="http://yanbao.159jh.com/css/basic.css" rel="stylesheet" type="text/css">
				<link rel="stylesheet" href="http://yanbao.159jh.com/css/common.css" type="text/css">
		<script src="/saasBeta/js/jquery.min.js"></script>
		<script src="/saasBeta/js/echarts.min.js"></script>
		<script src="http://yanbao.159jh.com/js/echarts-all-3.js"></script>
		<style type="text/css">
    .lines-type span {
        color: #444;
        font-size: 14px;
        padding: 6px 10px 6px 10px; 
        border-radius: 5px;
        cursor: pointer;
    }

    .lines-type span.on {
        color: #fff;
        background-color: #2e8bdc;
    }

    .k-line {
        width: 100%;
        margin-top: 16px;
    }

    .data-list span {
        color: #444;
        font-size: 14px;
        margin-right: 8px;
        display: inline-block;
        width: 100px;
    }
	.data-list span:nth-last-child(1){width: 130px;}
    .data-list span em.up {
        color: #f13944;
    }

    .data-list span em.down {
        color: #2ea749;
    }

    .lines-echarts {
        width: 100%;
        height: 440px;
    }

    .jiaoyi-qk {
        position: relative;
        height: 500px;
    }

    .line-cjl {
        position: absolute;
        top: 55%;
        left: 5%;
        font-size: 14px;
        color: #444;
    }
</style>
	</head>

	<body>
		<div class="contents">
			<div class="section ">
				<div class="lines-type">
					<span class="on">日K线图</span>
					<span class="">周K线图</span>
					<span class="">月K线图</span>
				</div>
				<div class="k-line">
					<div class="data-list">
						<span id="dataTime">2015-03-20</span>
						<span>开：
                                    <em id="open" class="up">8.90</em>
                                </span>
						<span>收：
                                    <em id="close" class="down">9.46</em>
                                </span>
						<span>高：
                                    <em id="highest" class="up">99.00</em>
                                </span>
						<span>低：
                                    <em id="lowest" class="down">0.01</em>
                                </span>
						<span>涨跌：
                                    <em id="zhangDie" class="up">0.60</em>
                                </span>
						<span>涨幅：
                                    <em id="zhangFu" class="up">6.77%</em>
                                </span>
					</div>
					<div class="jiaoyi-qk">
						<div class="lines-echarts" id="KLine">
						</div>
						<div class="line-cjl">成交量：
							<span id="line-cjl">377.10万股</span>
						</div>
					</div>

				</div>
			</div>
		</div>

		<script>
			
			var testdata = {
    "retCode": "0000",
    "retMsg": "成功",
    "retData": {
        "dKLine": [
            [
                "2014-05-19",
                610,
                610,
                610,
                610,
                609,
                60900,
                93902
            ],
            [
                "2014-05-20",
                610,
                610,
                700,
                610,
                0,
                0,
                309052
            ],
            [
                "2014-05-21",
                800,
                610,
                800,
                610,
                0,
                0,
                303137
            ],
            [
                "2014-05-22",
                610,
                610,
                610,
                610,
                0,
                0,
                229553
            ],
            [
                "2014-05-23",
                850,
                617.72,
                850,
                610,
                7.72,
                1.27,
                186538
            ],
            [
                "2014-05-26",
                610,
                615.97,
                800,
                610,
                -1.75,
                -0.28,
                95528
            ],
            [
                "2014-05-27",
                610,
                1,
                800,
                1,
                -614.97,
                -99.84,
                84000
            ],
            [
                "2014-05-28",
                800,
                768.34,
                950,
                610,
                767.34,
                76734,
                77237
            ],
            [
                "2014-05-29",
                800,
                800,
                800,
                800,
                31.66,
                4.12,
                17000
            ],
            [
                "2014-05-30",
                610,
                970,
                970,
                610,
                170,
                21.25,
                11324
            ],
            [
                "2014-06-03",
                610,
                970,
                970,
                610,
                0,
                0,
                6000
            ],
            [
                "2014-06-04",
                850,
                821.76,
                850,
                610,
                -148.24,
                -15.28,
                51000
            ],
            [
                "2014-06-05",
                610,
                610,
                610,
                610,
                -211.76,
                -25.77,
                50000
            ],
            [
                "2014-06-06",
                920,
                920,
                920,
                920,
                310,
                50.82,
                1000
            ],
            [
                "2014-06-09",
                10,
                854.38,
                950,
                10,
                -65.62,
                -7.13,
                35000
            ],
            [
                "2014-06-10",
                800,
                940,
                940,
                800,
                85.62,
                10.02,
                40000
            ],
            [
                "2014-06-11",
                920,
                792.86,
                940,
                610,
                -147.14,
                -15.65,
                7000
            ],
            [
                "2014-06-12",
                950,
                750.89,
                950,
                610,
                -41.97,
                -5.29,
                6956
            ],
            [
                "2014-06-13",
                930,
                923.33,
                930,
                920,
                172.44,
                22.96,
                6000
            ],
            [
                "2014-06-16",
                930,
                913.33,
                930,
                900,
                -10,
                -1.08,
                9000
            ],
            [
                "2014-06-17",
                610,
                762.18,
                930,
                610,
                -151.15,
                -16.55,
                87000
            ],
            [
                "2014-06-18",
                610,
                746.69,
                930,
                610,
                -15.49,
                -2.03,
                58344
            ],
            [
                "2014-06-19",
                610,
                800,
                920,
                610,
                53.31,
                7.14,
                90000
            ],
            [
                "2014-06-20",
                610,
                950,
                950,
                610,
                150,
                18.75,
                79000
            ],
            [
                "2014-06-23",
                800,
                800,
                940,
                610,
                -150,
                -15.79,
                68000
            ],
            [
                "2014-08-08",
                4.18,
                3.73,
                4.18,
                3.18,
                -0.45,
                -10.77,
                4857000
            ],
            [
                "2014-08-11",
                4.18,
                4.18,
                5.49,
                3.18,
                0.45,
                12.06,
                14592000
            ],
            [
                "2014-08-12",
                3.92,
                3.06,
                5.14,
                2.56,
                -1.12,
                -26.79,
                14831470
            ],
            [
                "2014-08-13",
                3.19,
                3.65,
                5.45,
                2.56,
                0.59,
                19.28,
                34976831
            ],
            [
                "2014-08-14",
                3.19,
                2.56,
                5.55,
                2.56,
                -1.09,
                -29.86,
                24997660
            ],
            [
                "2014-08-15",
                3.92,
                3.05,
                4.61,
                2.56,
                0.49,
                19.14,
                37436588
            ],
            [
                "2014-08-18",
                3.92,
                3.31,
                5,
                2.56,
                0.26,
                8.52,
                13169000
            ],
            [
                "2014-08-19",
                3.92,
                3.17,
                5.88,
                2,
                -0.14,
                -4.23,
                32461000
            ],
            [
                "2014-08-20",
                2.56,
                4.92,
                5.1,
                2.56,
                1.75,
                55.21,
                18210973
            ],
            [
                "2014-08-21",
                3.92,
                3.02,
                5.09,
                2,
                -1.9,
                -38.62,
                11288000
            ],
            [
                "2014-08-22",
                3.92,
                3.69,
                5,
                2,
                0.67,
                22.19,
                16122000
            ],
            [
                "2014-08-25",
                3.92,
                5.05,
                5.05,
                2.6,
                1.36,
                36.86,
                6816000
            ],
            [
                "2014-08-26",
                2.18,
                2.8,
                5.1,
                2.18,
                -2.25,
                -44.55,
                17116000
            ],
            [
                "2014-08-27",
                5.5,
                3.36,
                5.5,
                2.18,
                0.56,
                20,
                18098000
            ],
            [
                "2014-08-28",
                5.05,
                5.1,
                5.1,
                3.92,
                1.74,
                51.79,
                8845000
            ],
            [
                "2014-08-29",
                4.82,
                3.93,
                5.01,
                2.56,
                -1.17,
                -22.94,
                15498000
            ],
            [
                "2014-09-01",
                3.92,
                4.26,
                5.48,
                2,
                0.33,
                8.4,
                10802000
            ],
            [
                "2014-09-02",
                3.92,
                5,
                5.12,
                3.92,
                0.74,
                17.37,
                5617000
            ],
            [
                "2014-09-03",
                5.09,
                2.05,
                5.09,
                2.05,
                -2.95,
                -59,
                25067000
            ],
            [
                "2014-09-04",
                3.92,
                3.93,
                4.99,
                3.92,
                1.88,
                91.71,
                17301000
            ],
            [
                "2014-09-05",
                5.88,
                5.64,
                5.88,
                3.18,
                1.71,
                43.51,
                54718782
            ],
            [
                "2014-09-09",
                5,
                4.96,
                6,
                2.83,
                -0.68,
                -12.06,
                25099059
            ],
            [
                "2014-09-10",
                5,
                4.93,
                5.9,
                3.92,
                -0.03,
                -0.6,
                14755000
            ],
            [
                "2014-09-11",
                5,
                4.85,
                5.9,
                3.1,
                -0.08,
                -1.62,
                21835989
            ],
            [
                "2014-09-12",
                5.9,
                3.43,
                5.9,
                3.18,
                -1.42,
                -29.28,
                13574609
            ],
            [
                "2014-09-15",
                5,
                3.53,
                5.04,
                1,
                0.1,
                2.92,
                15904000
            ],
            [
                "2014-09-16",
                3.92,
                4.95,
                5,
                3.2,
                1.42,
                40.23,
                4446000
            ],
            [
                "2014-09-17",
                5,
                3.93,
                5,
                3.92,
                -1.02,
                -20.61,
                6339000
            ],
            [
                "2014-09-18",
                3.92,
                3.48,
                4.96,
                3.4,
                -0.45,
                -11.45,
                6700000
            ],
            [
                "2014-09-19",
                4.99,
                4.14,
                5,
                3.4,
                0.66,
                18.97,
                9320000
            ],
            [
                "2014-09-22",
                5,
                5.02,
                6,
                3.24,
                0.88,
                21.26,
                3592538
            ],
            [
                "2014-09-23",
                5,
                4.79,
                5.15,
                4.75,
                -0.23,
                -4.58,
                20849000
            ],
            [
                "2014-09-24",
                5,
                4.76,
                5,
                2.56,
                -0.03,
                -0.63,
                13075000
            ],
            [
                "2014-09-25",
                4.8,
                4.9,
                4.9,
                4.76,
                0.14,
                2.94,
                550000
            ],
            [
                "2014-09-26",
                4.9,
                4.09,
                4.9,
                3.92,
                -0.81,
                -16.53,
                956123
            ],
            [
                "2014-09-29",
                4.9,
                4.05,
                4.9,
                3.92,
                -0.04,
                -0.98,
                2486000
            ],
            [
                "2014-09-30",
                4.98,
                4.93,
                4.98,
                3.92,
                0.88,
                21.73,
                4671000
            ],
            [
                "2014-10-08",
                5,
                5.02,
                5.05,
                2.56,
                0.09,
                1.83,
                1435000
            ],
            [
                "2014-10-09",
                5,
                4.86,
                5.01,
                2.5,
                -0.16,
                -3.19,
                2526000
            ],
            [
                "2014-10-10",
                3.92,
                4.86,
                4.9,
                2,
                0,
                0,
                2136000
            ],
            [
                "2014-10-13",
                2,
                4.81,
                5,
                2,
                -0.05,
                -1.03,
                9856000
            ],
            [
                "2014-10-14",
                4.85,
                3.98,
                4.95,
                2,
                -0.83,
                -17.26,
                959000
            ],
            [
                "2014-10-15",
                2,
                2.34,
                6,
                2,
                -1.64,
                -41.21,
                331000
            ],
            [
                "2014-10-16",
                4.85,
                4.04,
                4.9,
                2,
                1.7,
                72.65,
                3194000
            ],
            [
                "2014-10-17",
                4.9,
                3.92,
                4.9,
                3.5,
                -0.12,
                -2.97,
                3048000
            ],
            [
                "2014-10-20",
                4.75,
                4.89,
                5.9,
                3.92,
                0.97,
                24.74,
                4976000
            ],
            [
                "2014-10-21",
                4.82,
                5.74,
                5.85,
                4.75,
                0.85,
                17.38,
                1903000
            ],
            [
                "2014-10-22",
                5.74,
                4.87,
                5.88,
                4.81,
                -0.87,
                -15.16,
                1961000
            ],
            [
                "2014-10-23",
                4.9,
                4.86,
                5.85,
                4.81,
                -0.01,
                -0.21,
                1883000
            ],
            [
                "2014-10-24",
                5,
                5.76,
                5.9,
                4.8,
                0.9,
                18.52,
                1948000
            ],
            [
                "2014-10-27",
                5,
                5.81,
                6,
                4.77,
                0.05,
                0.87,
                6577000
            ],
            [
                "2014-10-28",
                4.85,
                4.85,
                4.85,
                4.85,
                -0.96,
                -16.52,
                2000
            ],
            [
                "2014-10-29",
                4.8,
                4.72,
                6,
                4.71,
                -0.13,
                -2.68,
                2185000
            ],
            [
                "2014-10-30",
                4.75,
                6,
                6,
                4.7,
                1.28,
                27.12,
                2470000
            ],
            [
                "2014-10-31",
                4.8,
                4.9,
                6.1,
                3.18,
                -1.1,
                -18.33,
                3178000
            ],
            [
                "2014-11-03",
                4.7,
                4.93,
                6.3,
                4.7,
                0.03,
                0.61,
                2913000
            ],
            [
                "2014-11-04",
                4.8,
                6.26,
                6.54,
                4.68,
                1.33,
                26.98,
                3034000
            ],
            [
                "2014-11-05",
                4.8,
                6.41,
                6.51,
                4.8,
                0.15,
                2.4,
                756989
            ],
            [
                "2014-11-06",
                4.9,
                6.54,
                6.55,
                3.92,
                0.13,
                2.03,
                3867000
            ],
            [
                "2014-11-07",
                4.8,
                6.43,
                6.56,
                2.75,
                -0.11,
                -1.68,
                2510000
            ],
            [
                "2014-11-10",
                6,
                6.27,
                6.55,
                4.75,
                -0.16,
                -2.49,
                2288000
            ],
            [
                "2014-11-11",
                6.3,
                6.5,
                6.55,
                3.92,
                0.23,
                3.67,
                3412000
            ],
            [
                "2014-11-12",
                6.28,
                5.89,
                6.58,
                4.7,
                -0.61,
                -9.38,
                2944000
            ],
            [
                "2014-11-13",
                4.9,
                6.22,
                6.5,
                3.92,
                0.33,
                5.6,
                7896000
            ],
            [
                "2014-11-14",
                4.96,
                4.89,
                6.5,
                2.8,
                -1.33,
                -21.38,
                4010000
            ],
            [
                "2014-11-17",
                4.9,
                4.63,
                6.4,
                2.2,
                -0.26,
                -5.32,
                2418000
            ],
            [
                "2014-11-18",
                4.8,
                4.76,
                6.35,
                3.18,
                0.13,
                2.81,
                3834000
            ],
            [
                "2014-11-19",
                4.85,
                4.76,
                6.4,
                1,
                0,
                0,
                2735000
            ],
            [
                "2014-11-20",
                4.81,
                4.76,
                6.3,
                4.75,
                0,
                0,
                2284000
            ],
            [
                "2014-11-21",
                4.88,
                4.71,
                6.3,
                4.7,
                -0.05,
                -1.05,
                1617538
            ],
            [
                "2014-11-24",
                4.8,
                4.71,
                6.4,
                3.18,
                0,
                0,
                2844818
            ],
            [
                "2014-11-25",
                4.8,
                5.98,
                6.3,
                4.5,
                1.27,
                26.96,
                3107000
            ],
            [
                "2014-11-26",
                5.98,
                2.01,
                6.3,
                1.4,
                -3.97,
                -66.39,
                7873000
            ],
            [
                "2014-11-27",
                4.72,
                4.73,
                6.5,
                4.7,
                2.72,
                135.32,
                2065000
            ],
            [
                "2014-11-28",
                4.79,
                4.83,
                6.8,
                4.78,
                0.1,
                2.11,
                2669298
            ],
            [
                "2014-12-01",
                4.83,
                5.95,
                6.19,
                4.82,
                1.12,
                23.19,
                2029000
            ],
            [
                "2014-12-02",
                1.6,
                3.58,
                6.34,
                1.6,
                -2.37,
                -39.83,
                40286505
            ],
            [
                "2014-12-03",
                4.79,
                4.94,
                6,
                1.6,
                1.36,
                37.99,
                3558000
            ],
            [
                "2014-12-04",
                4.94,
                4.86,
                6.5,
                4.82,
                -0.08,
                -1.62,
                4508298
            ],
            [
                "2014-12-05",
                3.18,
                4.84,
                4.99,
                3.18,
                -0.02,
                -0.41,
                9145655
            ],
            [
                "2014-12-08",
                4.95,
                2.98,
                4.95,
                2,
                -1.86,
                -38.43,
                17112000
            ],
            [
                "2014-12-09",
                4.81,
                2.96,
                4.9,
                2.5,
                -0.02,
                -0.67,
                2881000
            ],
            [
                "2014-12-10",
                4.79,
                3.28,
                4.9,
                2.5,
                0.32,
                10.81,
                17093000
            ],
            [
                "2014-12-11",
                4.86,
                4.8,
                4.89,
                4.8,
                1.52,
                46.34,
                1384000
            ],
            [
                "2014-12-12",
                4.85,
                4.83,
                5,
                4.77,
                0.03,
                0.62,
                1374000
            ],
            [
                "2014-12-15",
                4.86,
                4.81,
                4.89,
                4.8,
                -0.02,
                -0.41,
                673000
            ],
            [
                "2014-12-16",
                4.94,
                4.43,
                5,
                3.2,
                -0.38,
                -7.9,
                10766000
            ],
            [
                "2014-12-17",
                3.74,
                2.7,
                4.88,
                2.5,
                -1.73,
                -39.05,
                8170014
            ],
            [
                "2014-12-18",
                4.8,
                4.05,
                4.9,
                2.5,
                1.35,
                50,
                26133594
            ],
            [
                "2014-12-19",
                4.95,
                4.42,
                5.14,
                2.5,
                0.37,
                9.14,
                13340000
            ],
            [
                "2014-12-22",
                4.8,
                4.8,
                5.14,
                2.5,
                0.38,
                8.6,
                4955262
            ],
            [
                "2014-12-23",
                4.84,
                2.01,
                4.84,
                2,
                -2.79,
                -58.12,
                5747000
            ],
            [
                "2014-12-24",
                4.8,
                4.8,
                5.8,
                4.79,
                2.79,
                138.81,
                791000
            ],
            [
                "2014-12-25",
                4.8,
                4.79,
                4.82,
                4.79,
                -0.01,
                -0.21,
                365000
            ],
            [
                "2014-12-26",
                4.79,
                3.94,
                4.84,
                3.92,
                -0.85,
                -17.75,
                3489000
            ],
            [
                "2014-12-29",
                4.8,
                4.8,
                4.81,
                4.79,
                0.86,
                21.83,
                1628000
            ],
            [
                "2014-12-30",
                4.79,
                4.8,
                4.98,
                4.79,
                0,
                0,
                351000
            ],
            [
                "2014-12-31",
                4.8,
                4.82,
                4.99,
                4.8,
                0.02,
                0.42,
                1176000
            ],
            [
                "2015-01-05",
                4.8,
                4.82,
                4.95,
                4.79,
                0,
                0,
                2473000
            ],
            [
                "2015-01-06",
                4.8,
                4.8,
                4.83,
                4.77,
                -0.02,
                -0.41,
                1882000
            ],
            [
                "2015-01-07",
                4.8,
                3.96,
                4.98,
                3.92,
                -0.84,
                -17.5,
                4676000
            ],
            [
                "2015-01-08",
                4.81,
                4.8,
                4.81,
                4.79,
                0.84,
                21.21,
                938000
            ],
            [
                "2015-01-09",
                4.8,
                4.78,
                4.8,
                4.78,
                -0.02,
                -0.42,
                525000
            ],
            [
                "2015-01-12",
                4.79,
                4.76,
                4.89,
                4.75,
                -0.02,
                -0.42,
                2686000
            ],
            [
                "2015-01-13",
                4.79,
                4.8,
                4.8,
                4.76,
                0.04,
                0.84,
                570000
            ],
            [
                "2015-01-14",
                4.79,
                4.8,
                4.83,
                4.79,
                0,
                0,
                117000
            ],
            [
                "2015-01-15",
                4.8,
                4.8,
                4.8,
                3.92,
                0,
                0,
                1952000
            ],
            [
                "2015-01-16",
                4.79,
                4.78,
                4.83,
                3.92,
                -0.02,
                -0.42,
                3185000
            ],
            [
                "2015-01-19",
                4.79,
                4.79,
                5.1,
                2.06,
                0.01,
                0.21,
                5267000
            ],
            [
                "2015-01-20",
                4.8,
                4.8,
                4.84,
                2.01,
                0.01,
                0.21,
                1843000
            ],
            [
                "2015-01-21",
                4.8,
                4.8,
                48,
                1.4,
                0,
                0,
                3244000
            ],
            [
                "2015-01-22",
                4.8,
                4.8,
                5,
                1.06,
                0,
                0,
                4537000
            ],
            [
                "2015-01-23",
                4.8,
                4.8,
                4.85,
                4.79,
                0,
                0,
                2207000
            ],
            [
                "2015-01-26",
                4.79,
                4.81,
                4.99,
                4.79,
                0.01,
                0.21,
                4656000
            ],
            [
                "2015-01-27",
                4.89,
                5.3,
                5.3,
                4.82,
                0.49,
                10.19,
                2006000
            ],
            [
                "2015-01-28",
                5.75,
                6.61,
                6.9,
                5.26,
                1.31,
                24.72,
                4794000
            ],
            [
                "2015-01-29",
                6.61,
                7.54,
                8.5,
                2,
                0.93,
                14.07,
                6419000
            ],
            [
                "2015-01-30",
                7.7,
                4.72,
                8.3,
                2,
                -2.82,
                -37.4,
                7820000
            ],
            [
                "2015-02-02",
                7.3,
                7.79,
                8,
                4.8,
                3.07,
                65.04,
                2923000
            ],
            [
                "2015-02-03",
                7.8,
                7.7,
                7.95,
                4.8,
                -0.09,
                -1.16,
                1862000
            ],
            [
                "2015-02-04",
                7.78,
                7.5,
                51,
                3.92,
                -0.2,
                -2.6,
                2556000
            ],
            [
                "2015-02-05",
                7.5,
                4.15,
                7.99,
                3.92,
                -3.35,
                -44.67,
                3635000
            ],
            [
                "2015-02-06",
                6.8,
                6.96,
                7.25,
                3.92,
                2.81,
                67.71,
                3424000
            ],
            [
                "2015-02-09",
                7,
                7.31,
                7.48,
                3.92,
                0.35,
                5.03,
                6364000
            ],
            [
                "2015-02-10",
                8.1,
                4.98,
                8.1,
                3.92,
                -2.33,
                -31.87,
                8233000
            ],
            [
                "2015-02-11",
                8.5,
                7.78,
                8.5,
                2,
                2.8,
                56.22,
                4327000
            ],
            [
                "2015-02-12",
                8.5,
                7.81,
                8.5,
                2,
                0.03,
                0.39,
                2981000
            ],
            [
                "2015-02-13",
                8.15,
                7.78,
                8.15,
                1,
                -0.03,
                -0.38,
                1602000
            ],
            [
                "2015-02-16",
                7.85,
                7.7,
                7.85,
                7.6,
                -0.08,
                -1.03,
                1847000
            ],
            [
                "2015-02-17",
                7.72,
                7.85,
                7.85,
                7.7,
                0.15,
                1.95,
                806000
            ],
            [
                "2015-02-25",
                7.8,
                7.86,
                11,
                7.5,
                0.01,
                0.13,
                1354000
            ],
            [
                "2015-02-26",
                7.9,
                7.9,
                7.95,
                7.84,
                0.04,
                0.51,
                678000
            ],
            [
                "2015-02-27",
                7.89,
                7.9,
                7.98,
                0.01,
                0,
                0,
                2098000
            ],
            [
                "2015-03-02",
                7.9,
                7.88,
                7.9,
                1.1,
                -0.02,
                -0.25,
                1090000
            ],
            [
                "2015-03-03",
                7.88,
                7.89,
                7.92,
                3.92,
                0.01,
                0.13,
                15419000
            ],
            [
                "2015-03-04",
                7.89,
                7.87,
                7.99,
                3.92,
                -0.02,
                -0.25,
                1413000
            ],
            [
                "2015-03-05",
                7.87,
                5.28,
                45,
                0.1,
                -2.59,
                -32.91,
                7548000
            ],
            [
                "2015-03-06",
                7.89,
                6.82,
                28,
                3.92,
                1.54,
                29.17,
                6855000
            ],
            [
                "2015-03-09",
                8.05,
                8.69,
                8.86,
                8,
                1.87,
                27.42,
                6352000
            ],
            [
                "2015-03-10",
                8.8,
                5.3,
                9.5,
                0.1,
                -3.39,
                -39.01,
                10595000
            ],
            [
                "2015-03-11",
                9.2,
                5.72,
                9.45,
                0.1,
                0.42,
                7.92,
                7015000
            ],
            [
                "2015-03-12",
                9.1,
                8.73,
                9.4,
                6.85,
                3.01,
                52.62,
                4457000
            ],
            [
                "2015-03-13",
                9.16,
                4.64,
                9.3,
                3.92,
                -4.09,
                -46.85,
                6953000
            ],
            [
                "2015-03-16",
                9.3,
                4.17,
                9.8,
                0.01,
                -0.47,
                -10.13,
                13220535
            ],
            [
                "2015-03-17",
                9.05,
                8.96,
                10,
                0.01,
                4.79,
                114.87,
                6444000
            ],
            [
                "2015-03-18",
                9,
                7.33,
                94,
                0.01,
                -1.63,
                -18.19,
                14356000
            ],
            [
                "2015-03-19",
                8.88,
                8.86,
                9.83,
                0.01,
                1.53,
                20.87,
                15568000
            ],
            [
                "2015-03-20",
                8.9,
                9.46,
                99,
                0.01,
                0.6,
                6.77,
                3771000
            ],
            [
                "2015-03-23",
                9.25,
                9.22,
                9.5,
                4.18,
                -0.24,
                -2.54,
                10074000
            ],
            [
                "2015-03-24",
                9.2,
                9.81,
                10.5,
                1,
                0.59,
                6.4,
                11041000
            ],
            [
                "2015-03-25",
                10,
                11.5,
                12.5,
                0.01,
                1.69,
                17.23,
                16340000
            ],
            [
                "2015-03-26",
                11.9,
                12.95,
                14,
                0.01,
                1.45,
                12.61,
                28896033
            ],
            [
                "2015-03-27",
                13.1,
                13.31,
                16.68,
                0.01,
                0.36,
                2.78,
                32851324
            ],
            [
                "2015-03-30",
                13.53,
                12.91,
                14.5,
                0.01,
                -0.4,
                -3.01,
                18483901
            ],
            [
                "2015-03-31",
                13.35,
                9.31,
                14,
                0.01,
                -3.6,
                -27.89,
                7144000
            ],
            [
                "2015-04-01",
                13.26,
                9.94,
                19.8,
                0.01,
                0.63,
                6.77,
                24701200
            ],
            [
                "2015-04-02",
                13.18,
                10.65,
                19.94,
                0.01,
                0.71,
                7.14,
                24449054
            ],
            [
                "2015-04-03",
                13.17,
                13.28,
                14.14,
                0.01,
                2.63,
                24.69,
                18900558
            ],
            [
                "2015-04-07",
                13.98,
                14.79,
                19.28,
                0.01,
                1.51,
                11.37,
                35062000
            ],
            [
                "2015-04-08",
                14.89,
                4.91,
                19.6,
                0.01,
                -9.88,
                -66.8,
                18403000
            ],
            [
                "2015-04-09",
                4.91,
                13.78,
                15.85,
                0.01,
                8.87,
                180.65,
                41780305
            ],
            [
                "2015-04-10",
                15.18,
                14.34,
                152.1,
                0.01,
                0.56,
                4.06,
                14308000
            ],
            [
                "2015-04-13",
                15.18,
                14.92,
                17.98,
                0.01,
                0.58,
                4.04,
                6471000
            ],
            [
                "2015-04-14",
                15.1,
                13.81,
                17.98,
                0.01,
                -1.11,
                -7.44,
                15457000
            ],
            [
                "2015-04-15",
                14,
                12.27,
                19.19,
                0.01,
                -1.54,
                -11.15,
                27158000
            ],
            [
                "2015-04-16",
                13.99,
                13.66,
                18,
                0.01,
                1.39,
                11.33,
                26639389
            ],
            [
                "2015-04-17",
                0.01,
                15,
                17.19,
                0.01,
                1.34,
                9.81,
                5279000
            ],
            [
                "2015-04-20",
                14,
                14.46,
                15.95,
                0.01,
                -0.54,
                -3.6,
                10264000
            ],
            [
                "2015-04-21",
                12.22,
                6.19,
                14.5,
                0.01,
                -5.59,
                -47.45,
                25429897
            ],
            [
                "2015-04-22",
                12,
                9.9,
                22,
                0.01,
                3.71,
                59.94,
                30912703
            ],
            [
                "2015-04-23",
                11.4,
                11.17,
                13.39,
                0.01,
                1.27,
                12.83,
                12299100
            ],
            [
                "2015-04-24",
                11.4,
                10.99,
                18.36,
                0.01,
                -0.18,
                -1.61,
                7558489
            ],
            [
                "2015-04-27",
                11.3,
                11.35,
                14.42,
                0.01,
                0.36,
                3.28,
                14657458
            ],
            [
                "2015-04-28",
                11.45,
                11.35,
                11.66,
                0.01,
                0,
                0,
                9928915
            ],
            [
                "2015-04-29",
                11.4,
                11.34,
                14.1,
                0.01,
                -0.01,
                -0.09,
                11218699
            ],
            [
                "2015-04-30",
                11.42,
                11.39,
                16,
                0.01,
                0.05,
                0.44,
                12755142
            ],
            [
                "2015-05-04",
                11.95,
                11.75,
                13.3,
                0.01,
                0.36,
                3.16,
                10721236
            ],
            [
                "2015-05-05",
                12.28,
                12.03,
                12.4,
                0.01,
                0.28,
                2.38,
                16034341
            ],
            [
                "2015-05-06",
                12.28,
                11.72,
                13.1,
                0.01,
                -0.31,
                -2.58,
                32030065
            ],
            [
                "2015-05-07",
                12.1,
                11.51,
                12.9,
                0.01,
                -0.21,
                -1.79,
                16761466
            ],
            [
                "2015-05-08",
                11.9,
                12.01,
                13.8,
                0.01,
                0.5,
                4.34,
                26032431
            ],
            [
                "2015-05-11",
                12.1,
                11.93,
                20,
                0.01,
                -0.08,
                -0.67,
                10747972
            ],
            [
                "2015-05-12",
                12.18,
                12.14,
                20,
                0.01,
                0.21,
                1.76,
                16568084
            ],
            [
                "2015-05-13",
                12.1,
                12.1,
                12.2,
                0.01,
                -0.04,
                -0.33,
                14907873
            ],
            [
                "2015-05-14",
                12.2,
                11.33,
                20.2,
                0.01,
                -0.77,
                -6.36,
                14368305
            ],
            [
                "2015-05-15",
                12.2,
                13.55,
                14.9,
                0.01,
                2.22,
                19.59,
                22581949
            ],
            [
                "2015-05-18",
                13.55,
                16.91,
                18,
                0.01,
                3.36,
                24.8,
                22567873
            ],
            [
                "2015-05-19",
                16.89,
                13.35,
                18.45,
                0.01,
                -3.56,
                -21.05,
                12784008
            ],
            [
                "2015-05-20",
                0.1,
                18.12,
                20.9,
                0.01,
                4.77,
                35.73,
                35414065
            ],
            [
                "2015-05-21",
                19,
                16.1,
                118.1,
                0.01,
                -2.02,
                -11.15,
                29102953
            ],
            [
                "2015-05-22",
                19.8,
                19.29,
                29.9,
                0.17,
                3.19,
                19.81,
                38640634
            ],
            [
                "2015-05-25",
                23,
                23.38,
                38,
                0.01,
                4.09,
                21.2,
                24665138
            ],
            [
                "2015-05-26",
                23.5,
                22.27,
                33.4,
                0.01,
                -1.11,
                -4.75,
                37930392
            ],
            [
                "2015-05-27",
                22.27,
                15.97,
                28.3,
                0.19,
                -6.3,
                -28.29,
                22868890
            ],
            [
                "2015-05-28",
                23.65,
                22.13,
                32.9,
                0.01,
                6.16,
                38.57,
                28173786
            ],
            [
                "2015-05-29",
                22.13,
                22.75,
                26.4,
                0.01,
                0.62,
                2.8,
                12402428
            ],
            [
                "2015-06-01",
                22.13,
                17.64,
                28.9,
                0.01,
                -5.11,
                -22.46,
                16705240
            ],
            [
                "2015-06-02",
                23,
                22.03,
                25.52,
                0.01,
                4.39,
                24.89,
                18387788
            ],
            [
                "2015-06-03",
                22.33,
                18.71,
                50,
                0.01,
                -3.32,
                -15.07,
                15899777
            ],
            [
                "2015-06-04",
                22.5,
                20.53,
                23.5,
                0.01,
                1.82,
                9.73,
                15037607
            ],
            [
                "2015-06-05",
                22,
                18.63,
                23.3,
                0.01,
                -1.9,
                -9.25,
                18266248
            ]
        ],
        "mKLine": [
            [
                "2014-05-30",
                610,
                970,
                970,
                1,
                null,
                null,
                1407271
            ],
            [
                "2014-06-23",
                610,
                800,
                970,
                10,
                -170,
                -0.1752577,
                594300
            ],
            [
                "2014-08-29",
                4.18,
                3.93,
                5.88,
                2,
                -796.07,
                -0.9950875,
                289315522
            ],
            [
                "2014-09-30",
                3.92,
                4.93,
                6,
                1,
                1,
                0.2544529,
                277659100
            ],
            [
                "2014-10-31",
                5,
                4.9,
                6.1,
                2,
                -0.03,
                -0.0060852,
                50568000
            ],
            [
                "2014-11-28",
                4.7,
                4.83,
                6.8,
                1,
                -0.07,
                -0.0142857,
                65078643
            ],
            [
                "2014-12-31",
                4.83,
                4.82,
                6.5,
                1.6,
                -0.01,
                -0.0020704,
                176956328
            ],
            [
                "2015-01-30",
                4.8,
                4.72,
                48,
                1.06,
                -0.1,
                -0.0207469,
                61797000
            ],
            [
                "2015-02-27",
                7.3,
                7.9,
                51,
                0.01,
                3.18,
                0.6737288,
                44690000
            ],
            [
                "2015-03-31",
                7.9,
                9.31,
                99,
                0.01,
                1.41,
                0.178481,
                245886793
            ],
            [
                "2015-04-30",
                13.26,
                11.39,
                152.1,
                0.01,
                2.08,
                0.2234157,
                393632909
            ],
            [
                "2015-05-29",
                11.95,
                22.75,
                118.1,
                0.01,
                11.36,
                0.9973661,
                445303889
            ],
            [
                "2015-06-05",
                22.13,
                18.63,
                50,
                0.01,
                -4.12,
                -0.1810989,
                84296660
            ]
        ],
        "wKLine": [
            [
                "2014-05-23",
                610,
                617.72,
                850,
                610,
                null,
                null,
                1122182
            ],
            [
                "2014-05-30",
                610,
                970,
                970,
                1,
                352.28,
                0.5702907,
                285089
            ],
            [
                "2014-06-06",
                610,
                920,
                970,
                610,
                -50,
                -0.0515464,
                108000
            ],
            [
                "2014-06-13",
                10,
                923.33,
                950,
                10,
                3.33,
                0.0036196,
                94956
            ],
            [
                "2014-06-20",
                930,
                950,
                950,
                610,
                26.67,
                0.0288846,
                323344
            ],
            [
                "2014-06-23",
                800,
                800,
                940,
                610,
                -150,
                -0.1578947,
                68000
            ],
            [
                "2014-08-08",
                4.18,
                3.73,
                4.18,
                3.18,
                -796.27,
                -0.9953375,
                4857000
            ],
            [
                "2014-08-15",
                4.18,
                3.05,
                5.55,
                2.56,
                -0.68,
                -0.1823056,
                126834549
            ],
            [
                "2014-08-22",
                3.92,
                3.69,
                5.88,
                2,
                0.64,
                0.2098361,
                91250973
            ],
            [
                "2014-08-29",
                3.92,
                3.93,
                5.5,
                2.18,
                0.24,
                0.0650407,
                66373000
            ],
            [
                "2014-09-05",
                3.92,
                5.64,
                5.88,
                2,
                1.71,
                0.4351145,
                113505782
            ],
            [
                "2014-09-12",
                5,
                3.43,
                6,
                2.83,
                -2.21,
                -0.391844,
                75264657
            ],
            [
                "2014-09-19",
                5,
                4.14,
                5.04,
                1,
                0.71,
                0.2069971,
                42709000
            ],
            [
                "2014-09-26",
                5,
                4.09,
                6,
                2.56,
                -0.05,
                -0.0120773,
                39022661
            ],
            [
                "2014-09-30",
                4.9,
                4.93,
                4.98,
                3.92,
                0.84,
                0.205379,
                7157000
            ],
            [
                "2014-10-10",
                5,
                4.86,
                5.05,
                2,
                -0.07,
                -0.0141988,
                6097000
            ],
            [
                "2014-10-17",
                2,
                3.92,
                6,
                2,
                -0.94,
                -0.1934156,
                17388000
            ],
            [
                "2014-10-24",
                4.75,
                5.76,
                5.9,
                3.92,
                1.84,
                0.4693878,
                12671000
            ],
            [
                "2014-10-31",
                5,
                4.9,
                6.1,
                3.18,
                -0.86,
                -0.1493056,
                14412000
            ],
            [
                "2014-11-07",
                4.7,
                6.43,
                6.56,
                2.75,
                1.53,
                0.3122449,
                13080989
            ],
            [
                "2014-11-14",
                6,
                4.89,
                6.58,
                2.8,
                -1.54,
                -0.2395023,
                20550000
            ],
            [
                "2014-11-21",
                4.9,
                4.71,
                6.4,
                1,
                -0.18,
                -0.0368098,
                12888538
            ],
            [
                "2014-11-28",
                4.8,
                4.83,
                6.8,
                1.4,
                0.12,
                0.0254777,
                18559116
            ],
            [
                "2014-12-05",
                4.83,
                4.84,
                6.5,
                1.6,
                0.01,
                0.0020704,
                59527458
            ],
            [
                "2014-12-12",
                4.95,
                4.83,
                5,
                2,
                -0.01,
                -0.0020661,
                39844000
            ],
            [
                "2014-12-19",
                4.86,
                4.42,
                5.14,
                2.5,
                -0.41,
                -0.0848861,
                59082608
            ],
            [
                "2014-12-26",
                4.8,
                3.94,
                5.8,
                2,
                -0.48,
                -0.1085973,
                15347262
            ],
            [
                "2014-12-31",
                4.8,
                4.82,
                4.99,
                4.79,
                0.88,
                0.2233503,
                3155000
            ],
            [
                "2015-01-09",
                4.8,
                4.78,
                4.98,
                3.92,
                -0.04,
                -0.0082988,
                10494000
            ],
            [
                "2015-01-16",
                4.79,
                4.78,
                4.89,
                3.92,
                0,
                0,
                8510000
            ],
            [
                "2015-01-23",
                4.79,
                4.8,
                48,
                1.06,
                0.02,
                0.0041841,
                17098000
            ],
            [
                "2015-01-30",
                4.79,
                4.72,
                8.5,
                2,
                -0.08,
                -0.0166667,
                25695000
            ],
            [
                "2015-02-06",
                7.3,
                6.96,
                51,
                3.92,
                2.24,
                0.4745763,
                14400000
            ],
            [
                "2015-02-13",
                7,
                7.78,
                8.5,
                1,
                0.82,
                0.1178161,
                23507000
            ],
            [
                "2015-02-17",
                7.85,
                7.85,
                7.85,
                7.6,
                0.07,
                0.0089974,
                2653000
            ],
            [
                "2015-02-27",
                7.8,
                7.9,
                11,
                0.01,
                0.05,
                0.0063694,
                4130000
            ],
            [
                "2015-03-06",
                7.9,
                6.82,
                45,
                0.1,
                -1.08,
                -0.1367089,
                32325000
            ],
            [
                "2015-03-13",
                8.05,
                4.64,
                9.5,
                0.1,
                -2.18,
                -0.3196481,
                35372000
            ],
            [
                "2015-03-20",
                9.3,
                9.46,
                99,
                0.01,
                4.82,
                1.0387931,
                53359535
            ],
            [
                "2015-03-27",
                9.25,
                13.31,
                16.68,
                0.01,
                3.85,
                0.4069767,
                99202357
            ],
            [
                "2015-04-03",
                13.53,
                13.28,
                19.94,
                0.01,
                -0.03,
                -0.0022539,
                93678713
            ],
            [
                "2015-04-10",
                13.98,
                14.34,
                152.1,
                0.01,
                1.06,
                0.0798193,
                109553305
            ],
            [
                "2015-04-17",
                15.18,
                15,
                19.19,
                0.01,
                0.66,
                0.0460251,
                81004389
            ],
            [
                "2015-04-24",
                14,
                10.99,
                22,
                0.01,
                -4.01,
                -0.2673333,
                86464189
            ],
            [
                "2015-04-30",
                11.3,
                11.39,
                16,
                0.01,
                0.4,
                0.0363967,
                48560214
            ],
            [
                "2015-05-08",
                11.95,
                12.01,
                13.8,
                0.01,
                0.62,
                0.0544337,
                101579539
            ],
            [
                "2015-05-15",
                12.1,
                13.55,
                20.2,
                0.01,
                1.54,
                0.1282265,
                79174183
            ],
            [
                "2015-05-22",
                13.55,
                19.29,
                118.1,
                0.01,
                5.74,
                0.4236162,
                138509533
            ],
            [
                "2015-05-29",
                23,
                22.75,
                38,
                0.01,
                3.46,
                0.1793675,
                126040634
            ],
            [
                "2015-06-05",
                22.13,
                18.63,
                50,
                0.01,
                -4.12,
                -0.1810989,
                84296660
            ]
        ]
    }
}
			
			
			
			var upColor = '#f13944';
			var downColor = '#2ea749';
			//	
			var width = $(".contents").width();
			//	console.log(width)
			//	$(".lines-echarts").css("width",width);
			
			var dKLineData = '';
			var wKLineData = '';
			var mKLineData = '';
			var _data = {};
			
			$.ajax({
					type: "post",
					async:false,
					data: {"paraminfo":'{"body":{"code":"899002"}}'},
					url: "/beta/public.do",
					dataType: "json",
					timeout : 10000, //超时时间设置，单位毫秒
					beforeSend: function(xhr) {
						//HTTP头文件
						xhr.setRequestHeader("RequestType", 'FT303');
						xhr.setRequestHeader("AppCode", 002);
						xhr.setRequestHeader("SessionId", '1111');
						xhr.setRequestHeader("PhoneNum", 18710081227);
						xhr.setRequestHeader("SendTime", 20171210113627);
						
						$(".loadingBox").show();
					},
					success: function(data) {
						data = testdata;
//						console.log(data)
						if(data.retCode == "0000") {
					var result = data.retData;
					if(result != "" && result != null && result != undefined) {
					//初始化
					_data.dKLineDatalast = result.DKLine;
					_data.dKLineData = splitData(result.dKLine);
					_data.wKLineData = splitData(result.wKLine);
					_data.mKLineData = splitData(result.mKLine);
//					console.log(_data.dKLineData)
					setTimeout(function() {
						drawEcharts(_data.dKLineData, 80);
					}, 500)
					var p = $("<p>");
					p.css("color", "#f13944");
//					console.log(_data.dKLineData)
if (_data.dKLineData.categoryData[_data.dKLineData.categoryData.length - 1] != "" && _data.dKLineData.categoryData[_data.dKLineData.categoryData.length - 1] != null && _data.dKLineData.categoryData[_data.dKLineData.categoryData.length - 1] != "null") {
                    $("#dataTime").html(_data.dKLineData.categoryData[_data.dKLineData.categoryData.length - 1]);
                }
                if (_data.dKLineData.values[_data.dKLineData.values.length - 1][0] != "" && _data.dKLineData.values[_data.dKLineData.values.length - 1][0] != "null" && _data.dKLineData.values[_data.dKLineData.values.length - 1][0] != "null") {
                   //console.log(_data.dKLineData.values[_data.dKLineData.values.length - 1][0])
                   if(_data.dKLineData.values[_data.dKLineData.values.length - 1][0] >= _data.dKLineData.values[_data.dKLineData.values.length - 2][0]){
                   		$("#open").removeClass("down").addClass("up").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][0]).toFixed(2));
                   }else if(_data.dKLineData.values[_data.dKLineData.values.length - 1][0] < _data.dKLineData.values[_data.dKLineData.values.length - 2][0]){
                   		$("#open").removeClass("up").addClass("down").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][0]).toFixed(2));
                   }
                   
                }
                if (_data.dKLineData.values[_data.dKLineData.values.length - 1][1] != "" && _data.dKLineData.values[_data.dKLineData.values.length - 1][1] != "null" && _data.dKLineData.values[_data.dKLineData.values.length - 1][1] != "null") {
                   // $("#close").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][1]).toFixed(2));
                    if(_data.dKLineData.values[_data.dKLineData.values.length - 1][1] >= _data.dKLineData.values[_data.dKLineData.values.length - 2][1]){
                   		$("#close").removeClass("down").addClass("up").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][1]).toFixed(2));
                   }else if(_data.dKLineData.values[_data.dKLineData.values.length - 1][1] < _data.dKLineData.values[_data.dKLineData.values.length - 2][1]){
                   		$("#close").removeClass("up").addClass("down").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][1]).toFixed(2));
                   }
                    
                }
                if (_data.dKLineData.values[_data.dKLineData.values.length - 1][2] != "" && _data.dKLineData.values[_data.dKLineData.values.length - 1][2] != "null" && _data.dKLineData.values[_data.dKLineData.values.length - 1][2] != "null") {
                   // $("#highest").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][2]).toFixed(2));
                    if(_data.dKLineData.values[_data.dKLineData.values.length - 1][2] >= _data.dKLineData.values[_data.dKLineData.values.length - 2][2]){
                   		$("#highest").removeClass("down").addClass("up").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][2]).toFixed(2));
                   }else if(_data.dKLineData.values[_data.dKLineData.values.length - 1][2] < _data.dKLineData.values[_data.dKLineData.values.length - 2][2]){
                   		$("#highest").removeClass("up").addClass("down").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][2]).toFixed(2));
                   }
                }
                if (_data.dKLineData.values[_data.dKLineData.values.length - 1][3] != "" && _data.dKLineData.values[_data.dKLineData.values.length - 1][3] != "null" && _data.dKLineData.values[_data.dKLineData.values.length - 1][3] != "null") {
                    //$("#lowest").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][3]).toFixed(2));
                    if(_data.dKLineData.values[_data.dKLineData.values.length - 1][3] >= _data.dKLineData.values[_data.dKLineData.values.length - 2][3]){
                   		$("#lowest").removeClass("down").addClass("up").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][3]).toFixed(2));
                   }else if(_data.dKLineData.values[_data.dKLineData.values.length - 1][3] < _data.dKLineData.values[_data.dKLineData.values.length - 2][3]){
                   		$("#lowest").removeClass("up").addClass("down").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][3]).toFixed(2));
                   }
                    
                }
                if (_data.dKLineData.values[_data.dKLineData.values.length - 1][4] != "" && _data.dKLineData.values[_data.dKLineData.values.length - 1][4] != "null") {
                	//console.log(_data.dKLineData.values[_data.dKLineData.values.length - 1][4])
                    if (_data.dKLineData.values[_data.dKLineData.values.length - 1][4] >= 0) {
                        $("#zhangDie").removeClass("down").addClass("up").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][4]).toFixed(2))
                    }
                    else {
                        $("#zhangDie").removeClass("up").addClass("down").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][4]).toFixed(2))
                    }

                }else{
                  	$("#zhangDie").removeAttr("class").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][4]).toFixed(2))
                }
                if (_data.dKLineData.values[_data.dKLineData.values.length - 1][5] != "" && _data.dKLineData.values[_data.dKLineData.values.length - 1][5] != "null" && _data.dKLineData.values[_data.dKLineData.values.length - 1][5] != "null") {
                   // $("#zhangFu").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][5]).toFixed(2) + "%");
                    if (_data.dKLineData.values[_data.dKLineData.values.length - 1][5] >= 0) {
                        $("#zhangFu").removeClass("down").addClass("up").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][5]).toFixed(2) + "%")
                    }
                    else {
                        $("#zhangFu").removeClass("up").addClass("down").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][5]).toFixed(2) + "%")
                    }  
                }else{
                      $("#zhangFu").removeAttr("class").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][5]).toFixed(2))
                	
                }
                if (_data.dKLineData.values[_data.dKLineData.values.length - 1][6] != "" && _data.dKLineData.values[_data.dKLineData.values.length - 1][6] != "null" && _data.dKLineData.values[_data.dKLineData.values.length - 1][6] != "null") {
                   if(_data.dKLineData.values[_data.dKLineData.values.length - 1][6]>10000){
                    	$("#line-cjl").html(Number(_data.dKLineData.values[_data.dKLineData.values.length - 1][6] / 10000).toFixed(2) + "万股");
                    }else{
                    	$("#line-cjl").html(_data.dKLineData.values[_data.dKLineData.values.length - 1][6] + "股");
                    }
                }
            } else {
					var div = '<div class="noDatas noDatas-s1">暂无数据</div>';
					$("#KLine").html(div);
				}
				}
					},
					error: function(e) {
						console.log(e)
						$(".loadingBox").hide();
						//弹框
			//			errorAlert(data.retCode, data.retMsg);
					}
				});
			
			
			

			function splitData(rawData) {
        var categoryData = [];
        var values = [];
        var volumes = [];
        for (var i = 0; i < rawData.length; i++) {
            categoryData.push(rawData[i].splice(0, 1)[0]);
            values.push(rawData[i]);
            volumes.push([i, rawData[i][6] > 0 ? rawData[i][6] : 0, rawData[i][0] > rawData[i][1] ? 1 : -1]);
        }

        return {
            categoryData: categoryData,
            values: values,
            volumes: volumes
        };
    }

			function calculateMA(dayCount, data) {
				var result = [];
				for(var i = 0, len = data.values.length; i < len; i++) {
					if(i < dayCount) {
						result.push('-');
						continue;
					}
					var sum = 0;
					for(var j = 0; j < dayCount; j++) {
						sum += data.values[i - j][1];
					}
					result.push(+(sum / dayCount).toFixed(3));
				}
				return result;
			}

			function drawEcharts(rawData, starts) {
				document.getElementById('KLine').style.width = $(".contents").width();
				// 	console.log()
				var data = rawData;
				//console.log(data)
				var length = data.categoryData.length;
				var startValue = '';
				if(starts == 0) {
					startValue = 0;
				} else {
					startValue = ((length - starts) / length) * 100;
				}

				//	console.log(startValue)
				var option = {
					backgroundColor: '#fff',
					animation: false,
					//      legend: {
					//          bottom: 10,
					//          left: 'center',
					//          data: ['Dow-Jones index', 'MA5', 'MA10', 'MA20', 'MA30']
					//      },
					tooltip: {
						trigger: 'axis',
						axisPointer: {
							type: 'cross'
						},
						backgroundColor: 'rgba(245, 245, 245, 0.8)',
						borderWidth: 1,
						borderColor: '#ccc',
						padding: 10,
						textStyle: {
							color: '#000'
						},
						//          position: function (pos, params, el, elRect, size) {          
						//              var obj = {top: 10};
						//              obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 30;
						//              return obj; 
						//          }, 
						formatter: function(param) {
//							console.log(param)
//							console.log(param[0].axisValue);
							var _res = getdata(param[0].axisValue);
//							console.log(_res)
							if(param[0].componentSubType == "candlestick") {
								if(param[0].axisValue != null && param[0].axisValue != "null" && param[0].axisValue != undefined && param[0].axisValue != "") {
									$("#dataTime").html(param[0].axisValue);
								} else {
									$("#dataTime").html("--");
								}
								if(param[0].data[1] != "" && param[0].data[1] != null && param[0].data[1] != "null" && param[0].data[1] != undefined) {
									// $("#open").html(Number(param[0].data[1]).toFixed(2));
									if(param[0].data[1] >= _res[1]) {
										$("#open").removeClass("down").addClass("up").html(Number(param[0].data[1]).toFixed(2));
									} else if(param[0].data[1] < _res[1]) {
										$("#open").removeClass("up").addClass("down").html(Number(param[0].data[1]).toFixed(2));
									}
									//$("#open").removeAttr("class").html(Number(param[0].data[1]).toFixed(2));
								} else {
									$("#open").removeAttr("class").html("--");
								}
								if(param[0].data[2] != "" && param[0].data[2] != null && param[0].data[2] != "null" && param[0].data[2] != undefined) {
									// $("#close").html(Number(param[0].data[2]).toFixed(2));
									if(param[0].data[2] >= _res[2])
										$("#close").removeClass("down").addClass("up").html(Number(param[0].data[2]).toFixed(2));
									else if(param[0].data[2] < _res[2])
										$("#close").removeClass("up").addClass("down").html(Number(param[0].data[2]).toFixed(2));
									//                          else
									//                              $("#close").removeAttr("class").html(Number(param[0].data[2]).toFixed(2));
								} else {
									$("#close").removeAttr("class").html("--");
								}
								if(param[0].data[3] != "" && param[0].data[3] != null && param[0].data[3] != "null" && param[0].data[3] != undefined) {
									// $("#highest").html(Number(param[0].data[3]).toFixed(2));
									if(param[0].data[3] >= _res[3])
										$("#highest").removeClass("down").addClass("up").html(Number(param[0].data[3]).toFixed(2));
									else if(param[0].data[3] < _res[3])
										$("#highest").removeClass("up").addClass("down").html(Number(param[0].data[3]).toFixed(2));
									//                          else
									//                              $("#highest").removeAttr("class").html(Number(param[0].data[3]).toFixed(2));
								} else {
									$("#highest").removeAttr("class").html("--");
								}
								if(param[0].data[4] != "" && param[0].data[4] != null && param[0].data[4] != "null" && param[0].data[4] != undefined) {
									// $("#lowest").html(Number(param[0].data[4]).toFixed(2));
									if(param[0].data[4] >= _res[4])
										$("#lowest").removeClass("down").addClass("up").html(Number(param[0].data[4]).toFixed(2));
									else if(param[0].data[4] < _res[4])
										$("#lowest").removeClass("up").addClass("down").html(Number(param[0].data[4]).toFixed(2));
									//                          else
									//                              $("#lowest").removeAttr("class").html(Number(param[0].data[4]).toFixed(2));
								} else {
									$("#lowest").removeAttr("class").html("--");
								}
								if(param[0].data[5] != "" && param[0].data[5] != null && param[0].data[5] != "null" && param[0].data[5] != undefined) {
									if(param[0].data[5] >= 0)
										$("#zhangDie").removeClass("down").addClass("up").html(Number(param[0].data[5]).toFixed(2));
									else if(param[0].data[5] < 0)
										$("#zhangDie").removeClass("up").addClass("down").html(Number(param[0].data[5]).toFixed(2));
									//                          else
									//                              $("#zhangDie").removeAttr("class").html(Number(param[0].data[5]).toFixed(2));
								} else {
									$("#zhangDie").removeAttr("class").html("--");
								}
								if(param[0].data[6] != "" && param[0].data[6] != null && param[0].data[6] != "null" && param[0].data[6] != undefined) {
									// $("#zhangFu").html(Number(param[0].data[6]).toFixed(2));
									if(param[0].data[6] >= 0)
										$("#zhangFu").removeClass("down").addClass("up").html(Number(param[0].data[6]).toFixed(2) + "%");
									else if(param[0].data[6] < 0)
										$("#zhangFu").removeClass("up").addClass("down").html(Number(param[0].data[6]).toFixed(2) + "%");
									//                          else
									//                              $("#zhangFu").removeAttr("class").html(Number(param[0].data[6]).toFixed(2));
								} else {
									$("#zhangFu").removeAttr("class").html("--");
								}
								if(param[0].data[7] != "" && param[0].data[7] != null && param[0].data[7] != "null" && param[0].data[7] != undefined) {
									if(param[0].data[7] > 10000) {
										$("#line-cjl").html(Number((param[0].data[7] / 10000)).toFixed(2) + "万股")
									} else {
										$("#line-cjl").html((param[0].data[7]) + "股")
									}
								} else {
									$("#line-cjl").html("--")
								}

							} else {
								if(param[0].axisValue != null && param[0].axisValue != "null" && param[0].axisValue != undefined && param[0].axisValue != "") {
									$("#dataTime").html(param[0].axisValue);
								} else {
									$("#dataTime").html("--");
								}
								//开
								if(param[1].data[1] != "" && param[1].data[1] != null && param[1].data[1] != "null" && param[1].data[1] != undefined) {
									// $("#open").html(Number(param[1].data[1]).toFixed(2));
									if(param[1].data[1] >= _res[1])
										$("#open").removeClass("down").addClass("up").html(Number(param[1].data[1]).toFixed(2));
									else if(param[1].data[1] < _res[1])
										$("#open").removeClass("up").addClass("down").html(Number(param[1].data[1]).toFixed(2));
									//                          else
									//                              $("#open").html(Number(param[1].data[1]).toFixed(2));
								} else {
									$("#open").removeAttr("class").html("--");
								}
								//收
								if(param[1].data[2] != "" && param[1].data[2] != null && param[1].data[2] != "null" && param[1].data[2] != undefined) {
									// $("#close").html(Number(param[1].data[2]).toFixed(2));
									if(param[1].data[2] >= _res[2])
										$("#close").removeClass("down").addClass("up").html(Number(param[1].data[2]).toFixed(2));
									else if(param[1].data[2] < _res[2])
										$("#close").removeClass("up").addClass("down").html(Number(param[1].data[2]).toFixed(2));
									//                          else
									//                              $("#close").removeAttr("class").html(Number(param[1].data[2]).toFixed(2));
								} else {
									$("#close").removeAttr("class").html("--");
								}
								//高
								if(param[1].data[3] != "" && param[1].data[3] != null && param[1].data[3] != "null" && param[1].data[3] != undefined) {
									// $("#highest").html(Number(param[1].data[3]).toFixed(2));
									if(param[1].data[3] >= _res[3])
										$("#highest").removeClass("down").addClass("up").html(Number(param[1].data[3]).toFixed(2));
									else if(param[1].data[3] < _res[3])
										$("#highest").removeClass("up").addClass("down").html(Number(param[1].data[3]).toFixed(2));
									//                          else
									//                              $("#highest").removeAttr("class").html(Number(param[1].data[3]).toFixed(2));
								} else {
									$("#highest").removeAttr("class").html("--");
								}
								//低
								if(param[1].data[4] != "" && param[1].data[4] != null && param[1].data[4] != "null" && param[1].data[4] != undefined) {
									// $("#lowest").html(Number(param[1].data[4]).toFixed(2));
									if(param[1].data[4] >= _res[4])
										$("#lowest").removeClass("down").addClass("up").html(Number(param[1].data[4]).toFixed(2));
									else if(param[1].data[4] < _res[4])
										$("#lowest").removeClass("up").addClass("down").html(Number(param[1].data[4]).toFixed(2));
									//                          else
									//                              $("#lowest").removeAttr("class").html(Number(param[1].data[4]).toFixed(2));
								} else {
									$("#lowest").removeAttr("class").html("--");
								}
								if(param[1].data[5] != "" && param[1].data[5] != null && param[1].data[5] != "null" && param[1].data[5] != undefined) {
									// $("#zhangDie").html(Number(param[1].data[5]).toFixed(2));
									if(param[1].data[5] > 0)
										$("#zhangDie").removeClass("down").addClass("up").html(Number(param[1].data[5]).toFixed(2));
									else if(param[1].data[5] < 0)
										$("#zhangDie").removeClass("up").addClass("down").html(Number(param[1].data[5]).toFixed(2));
									else
										$("#zhangDie").removeAttr("class").html(Number(param[1].data[5]).toFixed(2));
								} else {
									$("#zhangDie").removeAttr("class").html("--");
								}
								if(param[1].data[6] != "" && param[1].data[6] != null && param[1].data[6] != "null" && param[1].data[6] != undefined) {
									// $("#zhangFu").html(Number(param[1].data[6]).toFixed(2) + "%");
									if(param[1].data[6] > 0)
										$("#zhangFu").removeClass("down").addClass("up").html(Number(param[1].data[6]).toFixed(2) + "%");
									else if(param[1].data[6] < 0)
										$("#zhangFu").removeClass("up").addClass("down").html(Number(param[1].data[6]).toFixed(2) + "%");
									else
										$("#zhangFu").removeAttr("class").html(Number(param[1].data[6]).toFixed(2));
								} else {
									$("#zhangFu").removeAttr("class").html("--");
								}
								if(param[1].data[7] != "" && param[1].data[7] != null && param[1].data[7] != "null" && param[1].data[7] != undefined) {
									if(param[1].data[7] > 10000) {
										//alert(0)
										$("#line-cjl").html(Number((param[1].data[7] / 10000)).toFixed(2) + "万股")
									} else {
										//alert(1)
										$("#line-cjl").html((param[1].data[7]) + "股")
									}
								} else {
									$("#line-cjl").html("--")
								}

							}

						},
						extraCssText: 'width: 170px'
					},
					axisPointer: {
						link: {
							xAxisIndex: 'all'
						},
						label: {
							backgroundColor: '#777'
						}
					},
					visualMap: {
						show: false,
						seriesIndex: 5,
						dimension: 2,
						pieces: [{
							value: 1,
							color: downColor
						}, {
							value: -1,
							color: upColor
						}]
					},
					grid: [{
							left: '5%',
							right: '2%',
							height: '50%',
							top: '5%'
						},
						{
							left: '5%',
							right: '2%',
							top: '70%',
							height: '16%'
						}
					],
					xAxis: [{
							type: 'category',
							data: data.categoryData,
							scale: true,
							boundaryGap: true,
							axisTick: {
								onGap: false
							},
							axisLine: {
								onZero: false
							},
							splitLine: {
								show: false
							},
							splitNumber: 20,
							min: 'dataMin',
							max: 'dataMax',
							axisPointer: {
								z: 100
							}
						},
						{
							type: 'category',
							gridIndex: 1,
							data: data.categoryData,
							scale: true,
							boundaryGap: true,
							axisLine: {
								onZero: false
							},
							axisTick: {
								show: false
							},
							splitLine: {
								show: false
							},
							axisLabel: {
								show: false
							},
							splitNumber: 20,
							min: 'dataMin',
							max: 'dataMax',
							//                 axisPointer: {
							//                     label: {
							//                         formatter: function (params) {
							//                             var seriesValue = (params.seriesData[0] || {}).value;
							//                             return params.value
							// //                          + (seriesValue != null ? '\n' + echarts.format.addCommas(seriesValue): ''
							// //                          );
							//                         }
							//                     }
							//                 }
						}
					],
					yAxis: [{

							scale: true,
							splitArea: {
								show: true
							}
						},
						{

							scale: true,
							gridIndex: 1,
							splitNumber: 2,
							// boundaryGap:[2,2],//负数设置
							// axisLabel: {show: false},
							// axisLine: {show: false},
							// axisTick: {show: false},
							splitLine: {
								show: false
							},
							// min: function (value) {
							//     if(value.min > 10000)
							//         return value.min / 10000;
							//     else
							//     return value.min
							// },
							// max: function (value) {
							//     if(value.max > 10000)
							//     return value.max / 10000;
							//     else
							//     return value.max
							// }
							axisLabel: {
								formatter: function(value, index) {
									console.log(value)
									// 格式化成月/日，只在第一个刻度显示年份
									// var date = new Date(value);
									//console.log(value)
									if(value > 10000) {                
										
										
										// console.log(value);
										return value / 10000 + "万";
									}       
									// return value / 10000 + "万";
									else
										return value+"10000" 
									// return texts.join('/');
								}
							}

						}
					],
					dataZoom: [{
							type: 'inside',
							xAxisIndex: [0, 1],
							start: startValue,
							end: 100
						},
						{
							show: true,
							xAxisIndex: [0, 1],
							type: 'slider',
							top: '90%',
							start: startValue,
							end: 100
						}
					],
					series: [{
							name: 'Dow-Jones index',
							type: 'candlestick',
							data: data.values,
							itemStyle: {
								normal: {
									color: upColor,
									color0: downColor,
									borderColor: null,
									borderColor0: null
								}
							},
							tooltip: {
								formatter: function(param) {
									//                      return [
									//                          'Date: ' + param.name + '<hr size=1 style="margin: 3px 0">',
									//                          'Open: ' + param.data[0] + '<br/>',
									//                          'Close: ' + param.data[1] + '<br/>',
									//                          'Lowest: ' + param.data[2] + '<br/>',
									//                          'Highest: ' + param.data[3] + '<br/>'
									//                      ].join('');
								}
							}
						},
						{
							name: 'MA5',
							type: 'line',
							symbolSize: 0,
							//              showSymbol:false,            
							data: calculateMA(5, data),
							smooth: true,
							lineStyle: {
								normal: {
									opacity: 0
								}
							}
						},
						{
							name: 'MA10',
							type: 'line',
							//              showSymbol:false,
							symbolSize: 0,
							data: calculateMA(10, data),
							smooth: true,
							lineStyle: {
								normal: {
									opacity: 0
								}
							}
						},
						{
							name: 'MA20',
							type: 'line',
							symbolSize: 0,
							//              showSymbol:false,
							data: calculateMA(20, data),
							smooth: true,
							lineStyle: {
								normal: {
									opacity: 0
								}
							}
						},
						{
							name: 'MA30',
							type: 'line',
							symbolSize: 0,
							//              showSymbol:false,
							data: calculateMA(30, data),
							smooth: true,
							lineStyle: {
								normal: {
									opacity: 0
								}
							}
						},
						{
							name: 'Volume',
							type: 'bar',
							xAxisIndex: 1,
							yAxisIndex: 1,
							data: data.volumes
						}
					]
				};

				// myChart.on('brushSelected', renderBrushed);

				// function renderBrushed(params) {
				//     var sum = 0;
				//     var min = Infinity;
				//     var max = -Infinity;
				//     var countBySeries = [];
				//     var brushComponent = params.brushComponents[0];

				//     var rawIndices = brushComponent.series[0].rawIndices;
				//     for (var i = 0; i < rawIndices.length; i++) {
				//         var val = data.values[rawIndices[i]][1];
				//         sum += val;
				//         min = Math.min(val, min);
				//         max = Math.max(val, max);
				//     }

				//     panel.innerHTML = [
				//         '<h3>STATISTICS:</h3>',
				//         'SUM of open: ' + (sum / rawIndices.length).toFixed(4) + '<br>',
				//         'MIN of open: ' + min.toFixed(4) + '<br>',
				//         'MAX of open: ' + max.toFixed(4) + '<br>'
				//     ].join(' ');
				// }

				var myChart = echarts.init(document.getElementById('KLine'));
				myChart.dispatchAction({
					type: 'brush',
					areas: [{
						brushType: 'lineX',
						coordRange: ['2016-06-02', '2016-06-20'],
						xAxisIndex: 0
					}]
				});
				myChart.setOption(option);
				window.addEventListener("resize", function() {
					myChart.resize();
				})

				var getdata = function(_data) {
					// if (type === "dKLine") {
					var _idx = 0,
						_result;
					$.each(data.categoryData, function(k, v) {
						//console.log(data.categoryData)
						if(_data === v) {
							// console.log(v)
							// console.log(data.categoryData[k - 1])
							if(k !== 0)
								_idx = k - 1;
							return false;
						}

					})
					$.each(data.values, function(k, v) {
						if(k === _idx) {
							_result = v;
							// console.log( _result.join(''))
							return false;
						}

					})
					return _result;
					// return 0;

				}
			}
			$(function() {

				$(".lines-type span").on("click", function() {
					$(this).addClass("on").siblings().removeClass("on");
					if($(this).text() == "日K线图") {
						console.log(_data.dKLineData)
						drawEcharts(_data.dKLineData, 80);

					} else if($(this).text() == "周K线图") {
						console.log(_data.wKLineData)
						drawEcharts(_data.wKLineData, 48);
					} else if($(this).text() == "月K线图") {
						drawEcharts(_data.mKLineData, 0);
					}
				})

			})
		</script>
	</body>

</html>